"use strict";Object.defineProperty(exports, "__esModule", {value: true});var _chunk2WSEHVNPcjs = require('./chunk-2WSEHVNP.cjs');var _react = require('react');function m({payer:n,iframeClient:e}){return _react.useEffect.call(void 0, ()=>{if(e==null)return;let t=e.on("crypto:send-transaction",h=>_chunk2WSEHVNPcjs.d.call(void 0, this,[h],function*({chain:s,serializedTransaction:c}){try{yield n.handleChainSwitch(s);let r=yield n.handleSignAndSendTransaction(c),a=r.success?r.txId:"";r.success?e.send("crypto:send-transaction:success",{txId:a}):e.send("crypto:send-transaction:failed",{error:r.errorMessage})}catch(r){console.error("[SignerConnectionHandler] Failed to send transaction",r),e.send("crypto:send-transaction:failed",{error:r.message||"An unknown error occurred"})}}));return()=>{e.off(t)}},[e]),null}exports.a = m;
