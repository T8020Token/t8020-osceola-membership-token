import{a as m}from"./chunk-NZUCXN2O.js";import{a as g}from"./chunk-DFSB3TWF.js";import{d as b}from"./chunk-PXDN3KFO.js";import{useState as d,useEffect as x}from"react";import h from"@emotion/styled";import{jsx as k}from"react/jsx-runtime";var L=h.button`
    ${m}
    
    /* Button styles */
    font-size: 14px;
    line-height: 1.3;
    text-align: center;
    margin-top: 8px;
    transition: opacity 200ms ease;
    border: none;
    background: none;
    border-radius: 4px;
    
    /* Conditional styling based on state */
    cursor: ${e=>e.canResend&&!e.isLoading?"pointer":"default"};
    opacity: ${e=>e.canResend&&!e.isLoading?1:.5};
    color: ${e=>{var t,n,s,i;return e.canResend&&!e.isLoading?((n=(t=e.appearance)==null?void 0:t.colors)==null?void 0:n.textLink)||"#1A73E8":((i=(s=e.appearance)==null?void 0:s.colors)==null?void 0:i.textSecondary)||"#67797F"}};
    
    /* Hover state for active button */
    &:hover {
        opacity: ${e=>e.canResend&&!e.isLoading?.8:.5};
    }

    /* Tab style for button (for accessibility) */
    &:focus-visible {
        outline: 2px solid ${e=>{var t,n;return((n=(t=e.appearance)==null?void 0:t.colors)==null?void 0:n.accent)||g["cm-accent"]}};
        outline-offset: 2px;
    }
    
    /* Disabled state */
    &:disabled {
        cursor: default;
    }
`;function T({initialSeconds:e,appearance:t,countdownText:n,countdownCompleteText:s,handleOnClick:i}){let[r,u]=d(e),[o,f]=d(!0),[y,C]=d(0),[l,p]=d(!1);x(()=>{let a;return r>0&&(f(!1),a=setInterval(()=>{u(c=>c<=1?(f(!0),0):c-1)},1e3)),()=>{a!=null&&clearInterval(a)}},[r]);let R=()=>{if(!o)return;let a=Math.min(e*Math.pow(2,y),240);u(a),C(c=>c+1)};return k(L,{onClick:()=>b(this,null,function*(){o&&r===0&&!l&&(p(!0),yield i(),R(),p(!1))}),disabled:!o||l,appearance:t,canResend:o,isLoading:l,children:o?s:n(r)})}export{T as a};
