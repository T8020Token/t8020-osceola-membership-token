import{d as o}from"./chunk-PXDN3KFO.js";import{useEffect as d}from"react";function p({payer:n,iframeClient:e}){return d(()=>{if(e==null)return;let t=e.on("crypto:send-transaction",k=>o(this,[k],function*({chain:s,serializedTransaction:c}){try{yield n.handleChainSwitch(s);let r=yield n.handleSignAndSendTransaction(c),a=r.success?r.txId:"";r.success?e.send("crypto:send-transaction:success",{txId:a}):e.send("crypto:send-transaction:failed",{error:r.errorMessage})}catch(r){console.error("[SignerConnectionHandler] Failed to send transaction",r),e.send("crypto:send-transaction:failed",{error:r.message||"An unknown error occurred"})}}));return()=>{e.off(t)}},[e]),null}export{p as a};
