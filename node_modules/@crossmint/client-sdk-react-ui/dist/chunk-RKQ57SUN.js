import{a as o}from"./chunk-ZH7L354S.js";import{createContext as p,useContext as h,useEffect as l,useState as i}from"react";import{useCrossmint as g}from"@crossmint/client-sdk-react-base";import{jsx as k}from"react/jsx-runtime";var s=p(void 0);function b({children:e}){let[r,d]=i(void 0),[c,u]=i(void 0),{crossmint:C}=g(),m=o(C,{usageOrigin:"client"});return l(()=>{let n=t=>{if(t.origin!==new URL(m.baseUrl).origin||t.data.event!=="order:updated")return;let{order:a,orderClientSecret:f}=t.data.data;d(a),u(f)};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}},[r]),k(s.Provider,{value:{order:r,orderClientSecret:c},children:e})}function S(){let e=h(s);if(!e)throw new Error("useCrossmintCheckout must be used within a CrossmintCheckoutProvider");return e}export{b as a,S as b};
