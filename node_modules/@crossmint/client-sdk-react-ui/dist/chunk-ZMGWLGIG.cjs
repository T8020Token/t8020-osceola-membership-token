"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _chunkNXEC4PEDcjs = require('./chunk-NXEC4PED.cjs');var _chunkPZ3KXKJDcjs = require('./chunk-PZ3KXKJD.cjs');var _chunkBR77Q3PKcjs = require('./chunk-BR77Q3PK.cjs');var _chunk6O6IJTQDcjs = require('./chunk-6O6IJTQD.cjs');var _chunkXBXL7GMYcjs = require('./chunk-XBXL7GMY.cjs');var _chunkCD6E2BGDcjs = require('./chunk-CD6E2BGD.cjs');var _chunkKSUMPQNDcjs = require('./chunk-KSUMPQND.cjs');var _chunkS5QCH2EDcjs = require('./chunk-S5QCH2ED.cjs');var _chunkHNUI5756cjs = require('./chunk-HNUI5756.cjs');var _chunkUMWTEGO6cjs = require('./chunk-UMWTEGO6.cjs');var _chunkS4BKL6MRcjs = require('./chunk-S4BKL6MR.cjs');var _chunkAHMPKIEYcjs = require('./chunk-AHMPKIEY.cjs');var _chunkSCHRLC2Icjs = require('./chunk-SCHRLC2I.cjs');var _chunkDJZOP4MTcjs = require('./chunk-DJZOP4MT.cjs');var _chunkO3H2EYFAcjs = require('./chunk-O3H2EYFA.cjs');var _chunk3X24JZVGcjs = require('./chunk-3X24JZVG.cjs');var _chunkEAWYV5ZOcjs = require('./chunk-EAWYV5ZO.cjs');var _chunkW5RDCN5Gcjs = require('./chunk-W5RDCN5G.cjs');var _chunkVXAHFAP4cjs = require('./chunk-VXAHFAP4.cjs');var _chunkNRN4WNQLcjs = require('./chunk-NRN4WNQL.cjs');var _chunkI4GMMHQRcjs = require('./chunk-I4GMMHQR.cjs');var _chunk2WSEHVNPcjs = require('./chunk-2WSEHVNP.cjs');var _color = require('color'); var _color2 = _interopRequireDefault(_color);var _styled = require('@emotion/styled'); var _styled2 = _interopRequireDefault(_styled);var _react = require('react');var _clientsdkreactbase = require('@crossmint/client-sdk-react-base');var _commonsdkbase = require('@crossmint/common-sdk-base');var _clientsdkwindow = require('@crossmint/client-sdk-window');var _zod = require('zod');var Tt=(o,e)=>{let{crossmintAuth:t}=I(),[r,a]=_react.useState.call(void 0, null),i=_react.useRef.call(void 0, null);return _react.useEffect.call(void 0, ()=>(i.current==null&&(i.current=new (0, _clientsdkwindow.ChildWindow)(window.opener||window.parent,"*",{incomingEvents:fe})),()=>{i.current!=null&&i.current.off("authMaterialFromPopupCallback")}),[]),{createPopupAndSetupListeners:_react.useCallback.call(void 0, (n,x)=>_chunk2WSEHVNPcjs.d.call(void 0, void 0,null,function*(){if(i.current==null)throw new Error("Child window not initialized");a(n),e(null),console.log("createPopupAndSetupListeners",n,x),console.log("oauthUrlMap",o),console.log("oauthUrlMap[provider]",o[n]);let l=new URL(o[n]);if(x!=null){let u=Array.from(l.searchParams.entries());l.search="",x&&l.searchParams.append("provider_login_hint",x),u.forEach(([m,h])=>{l.searchParams.append(m,h)})}let y=yield _clientsdkwindow.PopupWindow.init(l.toString(),{awaitToLoad:!1,crossOrigin:!0,width:400,height:700}),g=u=>_chunk2WSEHVNPcjs.d.call(void 0, void 0,null,function*(){var m,h;yield t==null?void 0:t.handleRefreshAuthMaterial(u.oneTimeSecret),(m=i.current)==null||m.off("authMaterialFromPopupCallback"),(h=y.window)==null||h.close(),a(null)}),p=u=>{var m,h;e(u.error),(m=i.current)==null||m.off("errorFromPopupCallback"),(h=y.window)==null||h.close(),a(null)};i.current.on("authMaterialFromPopupCallback",g),i.current.on("errorFromPopupCallback",p);let d=setInterval(()=>{var u,m;(u=y.window)!=null&&u.closed&&(clearInterval(d),a(null),(m=i.current)==null||m.off("authMaterialFromPopupCallback"))},2500)}),[o,t,e]),isLoading:r!=null,activeOAuthProvider:r}},fe={authMaterialFromPopupCallback:_zod.z.object({oneTimeSecret:_zod.z.string()}),errorFromPopupCallback:_zod.z.object({error:_zod.z.string()})};var _jsxruntime = require('react/jsx-runtime');var Bt={google:"",twitter:""},Rt=_react.createContext.call(void 0, void 0);function R(){let o=_react.useContext.call(void 0, Rt);if(!o)throw new Error("useOAuthFlow must be used within an OAuthFlowProvider");return o}function $t({children:o,prefetchOAuthUrls:e}){let{crossmintAuth:t,loginMethods:r}=Mt(),{setError:a}=_chunkHNUI5756cjs.a.call(void 0, ),[i,c]=_react.useState.call(void 0, Bt),[n,x]=_react.useState.call(void 0, !0),{createPopupAndSetupListeners:l,isLoading:y,activeOAuthProvider:g}=Tt(i,a),p=_react.useCallback.call(void 0, ()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){x(!0);try{let h=(r||[]).filter(f=>f in Bt).map(f=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){let C=yield t==null?void 0:t.getOAuthUrl(f);return{[f]:C}})),v=Object.assign({},...yield Promise.all(h));c(v)}catch(m){a(m instanceof Error?m.message:"Unable to load oauth providers. Please try again later.")}finally{x(!1)}}),[r,t,a]);_react.useEffect.call(void 0, ()=>{e&&p()},[p,e]);let u={startOAuthLogin:_react.useCallback.call(void 0, (m,h)=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){yield l(m,h)}),[l]),isLoading:n||y,activeOAuthProvider:g};return _jsxruntime.jsx.call(void 0, Rt.Provider,{value:u,children:o})}var _sdkreactcore = require('@dynamic-labs/sdk-react-core');var _ethereum = require('@dynamic-labs/ethereum');var _solana = require('@dynamic-labs/solana');var _bs58 = require('bs58'); var _bs582 = _interopRequireDefault(_bs58);function Pe({children:o,enabled:e,onSdkLoaded:t,onWalletConnected:r,jwt:a}){let{primaryWallet:i,sdkHasLoaded:c,removeWallet:n,handleUnlinkWallet:x}=_sdkreactcore.useDynamicContext.call(void 0, ),l=!e||c;return _react.useEffect.call(void 0, ()=>{l&&(t==null||t(l))},[l,t]),_react.useEffect.call(void 0, ()=>{a==null&&l&&i!=null&&(n(i.id),x(i.id))},[a,l,i,n,x]),_react.useEffect.call(void 0, ()=>{function y(){return _chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){try{if(_ethereum.isEthereumWallet.call(void 0, i)){let g=yield i.getWalletClient(),p={type:"external-wallet",address:g.account.address,viemAccount:_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {},g.account),{signMessage:d=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){return yield g.signMessage({message:d.message})})})};r(p)}else if(_solana.isSolanaWallet.call(void 0, i)){let g=yield i.getSigner(),p={type:"external-wallet",address:i.address,onSignTransaction:d=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){return yield g.signTransaction(d)})};r(p)}else throw new Error("Unsupported wallet type")}catch(g){throw console.error("Failed to get admin signer",g),new Error("Failed to get admin signer")}})}i!=null&&a!=null&&y()},[i,a,r]),o}function _t({children:o,enabled:e=!0,apiKeyEnvironment:t,loginMethods:r=["web3"],appearance:a,onSdkLoaded:i,onWalletConnected:c}){var g,p;let{crossmintAuth:n,jwt:x}=I(),l=_react.useMemo.call(void 0, ()=>{var d,u;return`.powered-by-dynamic { display: none !important; }
            .wallet-list__scroll-container { padding: 0px !important; }
            .wallet-list__search-container { padding-left: 0px !important; padding-right: 0px !important; }
            .dynamic-footer { display: none !important; }
            h1 { color: ${(d=a==null?void 0:a.colors)==null?void 0:d.textPrimary} !important; }
            * { color: ${(u=a==null?void 0:a.colors)==null?void 0:u.textSecondary} !important; }`},[(g=a==null?void 0:a.colors)==null?void 0:g.textPrimary,(p=a==null?void 0:a.colors)==null?void 0:p.textSecondary]),y=_react.useMemo.call(void 0, ()=>{if(e)return r.includes("web3:evm-only")?[_ethereum.EthereumWalletConnectors]:r.includes("web3:solana-only")?[_solana.SolanaWalletConnectors]:[_ethereum.EthereumWalletConnectors,_solana.SolanaWalletConnectors]},[e,r]);return _jsxruntime.jsx.call(void 0, _chunkKSUMPQNDcjs.a,{apiKeyEnvironment:t,settings:{walletConnectors:y,cssOverrides:l,events:{onAuthFailure(d,u){console.error("[DynamicWalletProvider] onAuthFailure",d,u)}},handlers:{handleConnectedWallet:d=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var m;if(!n)return console.error("[DynamicWalletProvider] crossmintAuth is not available"),!1;let u=d.address;if(u==null)return console.error("[DynamicWalletProvider] handleConnectedWallet: address is missing"),!1;try{let v=(yield _chunkPZ3KXKJDcjs.b.call(void 0, d))==="solana"?"solana":"evm",f=yield n.signInWithSmartWallet(u,v);if((f==null?void 0:f.challenge)==null)throw new Error("No challenge received from signInWithSmartWallet");let C=yield(m=d.connector)==null?void 0:m.proveOwnership(u,f.challenge);if(C==null)throw new Error("Failed to get signature from wallet");let F=C;if(v==="solana"){let U=Buffer.from(C,"base64");F=_bs582.default.encode(U)}let A=yield n.authenticateSmartWallet(u,v,F);if((A==null?void 0:A.oneTimeSecret)==null)throw new Error("No oneTimeSecret received from authenticateSmartWallet");return yield n.handleRefreshAuthMaterial(A.oneTimeSecret),!0}catch(h){return console.error("[DynamicWalletProvider] Error handling wallet connection:",h),!1}})}},children:_jsxruntime.jsx.call(void 0, Pe,{enabled:e,onSdkLoaded:i,onWalletConnected:c,jwt:x,children:o})},`${t}-${r.join(",")}`)}var Fe={crossmintAuth:void 0,login:()=>{},logout:()=>{},jwt:void 0,user:void 0,status:"initializing",getUser:()=>{},experimental_externalWalletSigner:void 0,experimental_loginWithOAuth:()=>Promise.resolve(),loginMethods:[]},it= exports.f =_react.createContext.call(void 0, Fe);function We({children:o,appearance:e,termsOfServiceText:t,prefetchOAuthUrls:r=!0,authModalTitle:a,onLoginSuccess:i,loginMethods:c=["email","google"]}){let n=_clientsdkreactbase.useCrossmintAuthBase.call(void 0, ),{crossmint:x,experimental_setCustomAuth:l,experimental_customAuth:y}=_clientsdkreactbase.useCrossmint.call(void 0, "CrossmintAuthProvider must be used within CrossmintProvider"),g=_commonsdkbase.validateApiKeyAndGetCrossmintBaseUrl.call(void 0, x.apiKey),[p,d]=_react.useState.call(void 0, !1),[u,m]=_react.useState.call(void 0, void 0),[h,v]=_react.useState.call(void 0, !0),f=c.some(k=>k.startsWith("web3")),[C,F]=_react.useState.call(void 0, void 0),A=_react.useRef.call(void 0, null);_react.useEffect.call(void 0, ()=>{var k,j;n.jwt==null&&(y==null?void 0:y.jwt)!=null&&l(void 0),C!=null||((k=n.user)==null?void 0:k.email)!=null?l({jwt:n.jwt,email:(j=n.user)==null?void 0:j.email,externalWalletSigner:C}):l({jwt:n.jwt})},[C,n.jwt,n.user,l,y]),_react.useEffect.call(void 0, ()=>{n.jwt!=null&&p&&d(!1)},[n.jwt,p]);let U=_react.useCallback.call(void 0, k=>{if(n.jwt!=null){console.log("User already logged in");return}k!=null&&typeof k=="string"&&m(k),d(!0)},[n.jwt]),z=_react.useCallback.call(void 0, ()=>n.status==="initializing"||f&&!h?"initializing":n.jwt!=null?"logged-in":p?"in-progress":"logged-out",[n.status,n.jwt,f,h,p]),dt=_react.useCallback.call(void 0, k=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var j;if(n.jwt!=null){console.log("User already logged in");return}yield(j=A.current)==null?void 0:j.call(A,k)}),[n.jwt]),le=_react.useMemo.call(void 0, ()=>_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {},n),{login:U,status:z(),experimental_externalWalletSigner:C,experimental_loginWithOAuth:dt,loginMethods:c}),[n,U,z,C,dt,c]);return _jsxruntime.jsx.call(void 0, it.Provider,{value:le,children:_jsxruntime.jsx.call(void 0, _chunkHNUI5756cjs.b,{setDialogOpen:(k,j)=>{d(k),j&&(i==null||i())},initialState:{appearance:e,loginMethods:c,termsOfServiceText:t,authModalTitle:a,baseUrl:g,defaultEmail:u},children:_jsxruntime.jsx.call(void 0, $t,{prefetchOAuthUrls:z()==="logged-out"&&r,children:_jsxruntime.jsx.call(void 0, Te,{loginWithOAuthRef:A,children:f?_jsxruntime.jsxs.call(void 0, _t,{apiKeyEnvironment:x.apiKey.includes("production")?"production":"staging",loginMethods:c,appearance:e,onSdkLoaded:v,onWalletConnected:F,children:[o,_jsxruntime.jsx.call(void 0, et,{open:p})]}):_jsxruntime.jsxs.call(void 0, _jsxruntime.Fragment,{children:[o,_jsxruntime.jsx.call(void 0, et,{open:p})]})})})})})}function Te({children:o,loginWithOAuthRef:e}){let{startOAuthLogin:t}=R(),r=_clientsdkreactbase.useCrossmintAuthBase.call(void 0, ),a=_react.useCallback.call(void 0, i=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){if(r.jwt!=null){console.log("User already logged in");return}yield t(i)}),[r.jwt,t]);return _react.useEffect.call(void 0, ()=>{e.current=a},[a,e]),_jsxruntime.jsx.call(void 0, _jsxruntime.Fragment,{children:o})}function Zo({children:o,appearance:e,termsOfServiceText:t,prefetchOAuthUrls:r=!0,authModalTitle:a,onLoginSuccess:i,loginMethods:c=["email","google"],refreshRoute:n,logoutRoute:x}){return _jsxruntime.jsx.call(void 0, _clientsdkreactbase.CrossmintAuthBaseProvider,{onLoginSuccess:i,refreshRoute:n,logoutRoute:x,children:_jsxruntime.jsx.call(void 0, We,{onLoginSuccess:i,appearance:e,termsOfServiceText:t,prefetchOAuthUrls:r,authModalTitle:a,loginMethods:c,children:o})})}function I(){let o=_react.useContext.call(void 0, it);if(o==null)throw new Error("useCrossmintAuth must be used within a CrossmintAuthProvider");return o}var Mt=I;var Le=_styled2.default.div`
    display: flex;
    flex-direction: column;
`,Be=_styled2.default.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    width: 100%;
`,Re=_styled2.default.div`
    position: relative;
    left: 12px;
`,$e=_styled2.default.p`
    font-size: 16px;
    font-weight: 400;
    margin: 16px 0 4px 0;
    text-align: center;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
`,Me=_styled2.default.p`
    text-align: center;
    padding: 0 16px;
    margin: 0;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    font-size: 14px;
    line-height: 1.4;
`,De=_styled2.default.div`
    padding: 32px 0;
`,H=_styled2.default.call(void 0, _chunkXBXL7GMYcjs.c)`
    @media (max-width: 379px) {
        width: 40px;
        height: 56px;
        font-size: 28px;
        margin: 0;
    }
`,ze=_styled2.default.div`
    font-size: 12px;
    line-height: 1.3;
    text-align: center;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
`;function Kt({otpEmailData:o,setOtpEmailData:e}){var h,v,f,C,F;let{crossmintAuth:t}=I(),{appearance:r,setDialogOpen:a,setStep:i,setError:c}=_chunkHNUI5756cjs.a.call(void 0, ),[n,x]=_react.useState.call(void 0, ""),[l,y]=_react.useState.call(void 0, !1),[g,p]=_react.useState.call(void 0, !1),d=()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var A,U;p(!0);try{let z=yield t==null?void 0:t.confirmEmailOtp((A=o==null?void 0:o.email)!=null?A:"",(U=o==null?void 0:o.emailId)!=null?U:"",n);yield t==null?void 0:t.handleRefreshAuthMaterial(z),a(!1,!0),i("initial")}catch(z){console.error("Error confirming email OTP",z),c("Invalid code. Please try again."),y(!0)}finally{p(!1)}}),u=()=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){var A;try{yield t==null?void 0:t.sendEmailOtp((A=o==null?void 0:o.email)!=null?A:"")}catch(U){c("Failed to resend code. Please try again.")}});return _jsxruntime.jsxs.call(void 0, Le,{children:[_jsxruntime.jsx.call(void 0, _chunkS5QCH2EDcjs.a,{onClick:()=>{i("initial"),e(null)},iconColor:(h=r==null?void 0:r.colors)==null?void 0:h.textPrimary,ringColor:(v=r==null?void 0:r.colors)==null?void 0:v.accent}),_jsxruntime.jsxs.call(void 0, Be,{children:[_jsxruntime.jsx.call(void 0, Re,{children:_jsxruntime.jsx.call(void 0, _chunkI4GMMHQRcjs.a,{customAccentColor:(f=r==null?void 0:r.colors)==null?void 0:f.accent,customButtonBackgroundColor:(C=r==null?void 0:r.colors)==null?void 0:C.buttonBackground,customBackgroundColor:(F=r==null?void 0:r.colors)==null?void 0:F.background})}),_jsxruntime.jsx.call(void 0, $e,{appearance:r,children:"Check your email"}),_jsxruntime.jsxs.call(void 0, Me,{appearance:r,children:["A temporary login code has been sent to",_jsxruntime.jsx.call(void 0, "br",{}),o!=null&&o.email?_jsxruntime.jsx.call(void 0, "strong",{children:o.email}):"your email address"]}),_jsxruntime.jsx.call(void 0, De,{children:_jsxruntime.jsx.call(void 0, _chunkXBXL7GMYcjs.a,{maxLength:6,value:n,onChange:A=>{x(A),y(!1),c(null)},onComplete:d,disabled:g,appearance:r,children:_jsxruntime.jsxs.call(void 0, _chunkXBXL7GMYcjs.b,{children:[_jsxruntime.jsx.call(void 0, H,{index:0,hasError:l}),_jsxruntime.jsx.call(void 0, H,{index:1,hasError:l}),_jsxruntime.jsx.call(void 0, H,{index:2,hasError:l}),_jsxruntime.jsx.call(void 0, H,{index:3,hasError:l}),_jsxruntime.jsx.call(void 0, H,{index:4,hasError:l}),_jsxruntime.jsx.call(void 0, H,{index:5,hasError:l})]})})}),_jsxruntime.jsxs.call(void 0, ze,{appearance:r,children:["Can't find the email? Check spam folder.",_jsxruntime.jsx.call(void 0, "br",{}),"Some emails may take several minutes to arrive."]}),_jsxruntime.jsx.call(void 0, _chunkDJZOP4MTcjs.a,{initialSeconds:60,appearance:r,countdownText:A=>`Re-send code in ${A}s`,countdownCompleteText:"Re-send code",handleOnClick:u})]})]})}var _commonsdkauth = require('@crossmint/common-sdk-auth');var je=_styled2.default.button`
    ${_chunk3X24JZVGcjs.a}
    
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    height: 32px;
    padding: 0 10px;
    border: 1px solid ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.border)||_chunkEAWYV5ZOcjs.a["cm-border"]}};
    border-radius: ${o=>{var e;return((e=o.appearance)==null?void 0:e.borderRadius)||"12px"}};
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.buttonBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    cursor: ${o=>o.isLoading?"not-allowed":"pointer"};
    
    /* Hover and focus states */
    &:hover {
        background-color: ${o=>o.isLoading?_chunkEAWYV5ZOcjs.a["cm-muted-primary"]:_chunkEAWYV5ZOcjs.a["cm-hover"]};
    }
    
    &:focus {
        outline: none;
        background-color: theme["cm-hover"];
    }
`,Ge=_styled2.default.span`
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
    font-size: 14px;
    font-weight: 400;
`;function qt({emailInput:o,appearance:e}){var i,c;let{startOAuthLogin:t,activeOAuthProvider:r}=R(),a=r==="google";return _jsxruntime.jsxs.call(void 0, je,{type:"button",appearance:e,isLoading:a,onClick:a?void 0:()=>t("google",o.trim().toLowerCase()),children:[_jsxruntime.jsx.call(void 0, _chunkVXAHFAP4cjs.a,{style:{height:"18px",width:"18px"}}),a?_jsxruntime.jsx.call(void 0, _chunkAHMPKIEYcjs.a,{style:{color:(i=e==null?void 0:e.colors)==null?void 0:i.textSecondary,fill:(c=e==null?void 0:e.colors)==null?void 0:c.textPrimary,width:"18px",height:"18px"}}):_jsxruntime.jsx.call(void 0, Ge,{appearance:e,children:"Continue"})]})}var He=_styled2.default.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    width: 100%;
    border-radius: 8px;
`,Qe=_styled2.default.div`
    width: 100%;
`,Ne=_styled2.default.label`
    display: block;
    margin-bottom: 5px;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
    font-size: 14px;
    font-weight: 400;
`,Ke=_styled2.default.form`
    position: relative;
`,Ve=_styled2.default.input`
    ${_chunk3X24JZVGcjs.a}
    
    /* Base input styles */
    display: flex;
    flex-grow: 1;
    text-align: left;
    padding-left: 16px;
    padding-right: ${o=>o.showGoogleButton?"132px":"80px"};
    height: 58px;
    width: 100%;
    border: 1px solid;
    border-color: ${o=>{var e,t,r,a;return o.hasError?((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.danger)||_chunkEAWYV5ZOcjs.a["cm-danger"]:((a=(r=o.appearance)==null?void 0:r.colors)==null?void 0:a.border)||_chunkEAWYV5ZOcjs.a["cm-border"]}};
    border-radius: ${o=>{var e;return((e=o.appearance)==null?void 0:e.borderRadius)||"12px"}};
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.inputBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
    font-size: 16px;
    transition: border-color 200ms ease-in-out, box-shadow 200ms ease-in-out;
    
    &::placeholder {
        font-weight: 400;
        color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    }
    
    &:focus {
        outline: none;
        box-shadow: 0 0 0 2px ${o=>{var e,t;return new (0, _color2.default)(((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]).alpha(.18).toString()}};
    }
    
    &:read-only {
        cursor: not-allowed;
        opacity: 0.7;
    }
`,qe=_styled2.default.div`
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    padding-right: 16px;
    aspect-ratio: 1/1;
`,Xe=_styled2.default.button`
    ${_chunk3X24JZVGcjs.a}
    
    font-weight: 500;
    white-space: nowrap;
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.inputBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
    cursor: ${o=>o.disabled?"not-allowed":"pointer"};
    opacity: ${o=>o.disabled?.6:1};
    border: none;
    padding: 8px 12px;
    border-radius: 6px;
    transition: opacity 200ms ease;
    
    &:hover:not(:disabled) {
        opacity: 0.8;
    }
    
    &:focus-visible {
        outline: 2px solid ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
        outline-offset: 2px;
    }

    &:not(:disabled):focus-visible {
        box-shadow: 0 0 0 2px ${o=>{var e,t;return new (0, _color2.default)(((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.accent)||_chunkEAWYV5ZOcjs.a["cm-accent"]).alpha(.18).toString()}};
    }
`,Je=_styled2.default.p`
    font-size: 12px;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.danger)||_chunkEAWYV5ZOcjs.a["cm-danger"]}};
    margin: 8px 0 8px 0;
`;function Jt({setOtpEmailData:o}){var m,h,v;let{crossmintAuth:e}=I(),{appearance:t,defaultEmail:r,setStep:a,setError:i,loginMethods:c}=_chunkHNUI5756cjs.a.call(void 0, ),[n,x]=_react.useState.call(void 0, r!=null?r:""),[l,y]=_react.useState.call(void 0, ""),[g,p]=_react.useState.call(void 0, !1),d=n.toLowerCase().includes("@gmail.com")&&!n.toLowerCase().includes("+")&&_commonsdkauth.isEmailValid.call(void 0, n)&&!g&&c.includes("google");function u(f){return _chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){f.preventDefault(),p(!0);try{let C=n.trim().toLowerCase(),F=yield e==null?void 0:e.sendEmailOtp(C);o({email:C,emailId:F.emailId}),a("otp")}catch(C){p(!1),i("Failed to send email. Please try again or contact support.")}})}return _jsxruntime.jsx.call(void 0, He,{children:_jsxruntime.jsxs.call(void 0, Qe,{children:[_jsxruntime.jsx.call(void 0, Ne,{appearance:t,children:"Email"}),_jsxruntime.jsxs.call(void 0, Ke,{role:"form",onSubmit:f=>{if(d){f.preventDefault();return}_commonsdkauth.isEmailValid.call(void 0, n)?u(f):f.preventDefault()},noValidate:!0,children:[_jsxruntime.jsx.call(void 0, _chunkS4BKL6MRcjs.a,{children:"Email"}),_jsxruntime.jsx.call(void 0, Ve,{id:"emailInput",appearance:t,hasError:!!l,showGoogleButton:d,type:"email",placeholder:"your@email.com",value:n,onChange:f=>{x(f.target.value),y(""),i(null)},readOnly:g,"aria-describedby":"emailError"}),_jsxruntime.jsxs.call(void 0, qe,{children:[l&&_jsxruntime.jsx.call(void 0, _chunkNRN4WNQLcjs.a,{customColor:(m=t==null?void 0:t.colors)==null?void 0:m.danger}),g&&_jsxruntime.jsx.call(void 0, _chunkAHMPKIEYcjs.a,{style:{color:(h=t==null?void 0:t.colors)==null?void 0:h.textSecondary,fill:(v=t==null?void 0:t.colors)==null?void 0:v.textPrimary}}),d?_jsxruntime.jsx.call(void 0, qt,{emailInput:n,appearance:t}):!l&&!g?_jsxruntime.jsx.call(void 0, Xe,{type:"submit",appearance:t,disabled:!_commonsdkauth.isEmailValid.call(void 0, n)||g,children:"Submit"}):null]})]}),l&&_jsxruntime.jsx.call(void 0, Je,{appearance:t,id:"emailError",children:l})]})})}function Zt(){let{step:o}=_chunkHNUI5756cjs.a.call(void 0, ),[e,t]=_react.useState.call(void 0, null);return o==="otp"?_jsxruntime.jsx.call(void 0, Kt,{otpEmailData:e,setOtpEmailData:t}):o==="initial"?_jsxruntime.jsx.call(void 0, Jt,{setOtpEmailData:t}):null}function te(e){var o=_chunk2WSEHVNPcjs.c.call(void 0, e,[]);var n;let{step:t,appearance:r}=_chunkHNUI5756cjs.a.call(void 0, ),{startOAuthLogin:a,activeOAuthProvider:i}=R(),c=i==="google";return t!=="initial"?null:_jsxruntime.jsx.call(void 0, _chunkCD6E2BGDcjs.a,_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {icon:_jsxruntime.jsx.call(void 0, _chunkVXAHFAP4cjs.a,{style:{height:"25px",width:"25px"}}),isLoading:c,appearance:r,onButtonClick:()=>a("google")},o),{children:_jsxruntime.jsx.call(void 0, "span",{style:{color:(n=r==null?void 0:r.colors)==null?void 0:n.textPrimary},children:"Sign in with Google"})}))}var _authkit = require('@farcaster/auth-kit');var ro=_styled2.default.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
`,no=_styled2.default.div`
    text-align: center;
`,io=_styled2.default.h3`
    font-size: 18px;
    font-weight: 600;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textPrimary)||_chunkEAWYV5ZOcjs.a["cm-text-primary"]}};
    margin: 0 0 8px 0;
`,ao=_styled2.default.p`
    font-size: 16px;
    font-weight: 400;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    margin: 0;
`,lo=_styled2.default.div`
    background-color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.inputBackground)||_chunkEAWYV5ZOcjs.a["cm-background-primary"]}};
    aspect-ratio: 1;
    border-radius: ${o=>{var e;return((e=o.appearance)==null?void 0:e.borderRadius)||"8px"}};
    padding: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
`,so=_styled2.default.div`
    min-height: 246px;
    display: flex;
    align-items: center;
    justify-content: center;
`,co=_styled2.default.p`
    font-size: 16px;
    text-align: center;
    font-weight: 400;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textSecondary)||_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}};
    margin: 0;
`,uo=_styled2.default.a`
    font-size: 16px;
    font-weight: 400;
    color: ${o=>{var e,t;return((t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.textLink)||_chunkEAWYV5ZOcjs.a["cm-accent"]}};
    text-decoration: none;
    
    &:hover {
        text-decoration: underline;
    }
`;function ee(){let{step:o,appearance:e,setStep:t,setError:r}=_chunkHNUI5756cjs.a.call(void 0, );return o==="initial"?_jsxruntime.jsx.call(void 0, _chunkCD6E2BGDcjs.a,{icon:_jsxruntime.jsx.call(void 0, _chunkW5RDCN5Gcjs.a,{style:{height:"25px",width:"25px"}}),appearance:e,onButtonClick:()=>{t("qrCode"),r(null)},children:"Sign in with Farcaster"}):o==="qrCode"?_jsxruntime.jsx.call(void 0, mo,{}):null}function mo(){var u,m,h,v;let{crossmintAuth:o}=I(),{appearance:e,setStep:t,setDialogOpen:r,setError:a}=_chunkHNUI5756cjs.a.call(void 0, ),[i,c]=_react.useState.call(void 0, null),n=_react.useMemo.call(void 0, ()=>({onSuccess:f=>{c(f)}}),[]),{signIn:x,url:l,connect:y,signOut:g,isConnected:p}=_authkit.useSignIn.call(void 0, n),d=f=>_chunk2WSEHVNPcjs.d.call(void 0, this,null,function*(){a(null);try{let C=yield o==null?void 0:o.signInWithFarcaster(f);yield o==null?void 0:o.handleRefreshAuthMaterial(C),r(!1),t("initial")}catch(C){console.error("Error during Farcaster sign-in:",C),a("Failed to sign in with Farcaster")}});return _react.useEffect.call(void 0, ()=>{i!=null&&d(i)},[i]),_react.useEffect.call(void 0, ()=>{p&&x()},[p]),_react.useEffect.call(void 0, ()=>{y()},[]),_jsxruntime.jsxs.call(void 0, "div",{children:[_jsxruntime.jsx.call(void 0, _chunkS5QCH2EDcjs.a,{onClick:()=>{g(),t("initial")},iconColor:(u=e==null?void 0:e.colors)==null?void 0:u.textPrimary,ringColor:(m=e==null?void 0:e.colors)==null?void 0:m.accent}),_jsxruntime.jsxs.call(void 0, ro,{children:[_jsxruntime.jsxs.call(void 0, no,{children:[_jsxruntime.jsx.call(void 0, io,{appearance:e,children:"Sign in with Farcaster"}),_jsxruntime.jsx.call(void 0, ao,{appearance:e,children:"Scan with your phone's camera to continue."})]}),_jsxruntime.jsx.call(void 0, lo,{appearance:e,children:l!=null?_jsxruntime.jsx.call(void 0, _authkit.QRCode,{uri:l,size:280}):_jsxruntime.jsx.call(void 0, so,{children:_jsxruntime.jsx.call(void 0, _chunkAHMPKIEYcjs.a,{style:{color:(h=e==null?void 0:e.colors)==null?void 0:h.textSecondary,fill:(v=e==null?void 0:e.colors)==null?void 0:v.textPrimary}})})}),l?_jsxruntime.jsxs.call(void 0, _jsxruntime.Fragment,{children:[_jsxruntime.jsx.call(void 0, co,{appearance:e,children:"Alternatively, click on this link to open Warpcast."}),_jsxruntime.jsx.call(void 0, uo,{href:l,rel:"noopener noreferrer",target:"_blank",appearance:e,children:"Open Warpcast"})]}):_jsxruntime.jsx.call(void 0, "div",{style:{height:"66px"}})]})]})}function re(e){var o=_chunk2WSEHVNPcjs.c.call(void 0, e,[]);let{step:t,appearance:r}=_chunkHNUI5756cjs.a.call(void 0, ),{startOAuthLogin:a,activeOAuthProvider:i}=R(),c=i==="twitter";return t!=="initial"?null:_jsxruntime.jsx.call(void 0, _chunkCD6E2BGDcjs.a,_chunk2WSEHVNPcjs.b.call(void 0, _chunk2WSEHVNPcjs.a.call(void 0, {icon:_jsxruntime.jsx.call(void 0, _chunkUMWTEGO6cjs.a,{style:{height:"22px",width:"22px"}}),isLoading:c,appearance:r,onButtonClick:()=>a("twitter")},o),{children:"Sign in with X"}))}var go=_styled2.default.div`
    position: relative;
    padding: 40px 24px 30px 24px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    -webkit-font-smoothing: antialiased;
    animation: none;
    
    @media (min-width: 480px) {
        padding: 40px 40px 30px 40px;
    }
`,ho=_styled2.default.div`
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    border-radius: 8px;
    padding: 8px;
    gap: 8px;
    margin-top: 34px;
    background-color: ${o=>{var e,t,r;return new (0, _color2.default)((r=(t=(e=o.appearance)==null?void 0:e.colors)==null?void 0:t.danger)!=null?r:_chunkEAWYV5ZOcjs.a["cm-danger"]).alpha(.12).toString()}};
`;function ie({style:o}){var x,l,y,g,p,d,u,m,h,v;let{step:e,appearance:t,loginMethods:r,baseUrl:a,error:i,termsOfServiceText:c,authModalTitle:n}=_chunkHNUI5756cjs.a.call(void 0, );return _jsxruntime.jsxs.call(void 0, go,{style:o,children:[i!=null?_jsxruntime.jsxs.call(void 0, ho,{appearance:t,children:[_jsxruntime.jsx.call(void 0, "div",{style:{minWidth:"20px"},children:_jsxruntime.jsx.call(void 0, _chunkNRN4WNQLcjs.a,{customColor:(l=(x=t==null?void 0:t.colors)==null?void 0:x.danger)!=null?l:_chunkEAWYV5ZOcjs.a["cm-danger"]})}),_jsxruntime.jsx.call(void 0, "p",{style:{fontSize:"14px",margin:0,color:(g=(y=t==null?void 0:t.colors)==null?void 0:y.danger)!=null?g:_chunkEAWYV5ZOcjs.a["cm-danger"]},children:i})]}):null,e==="initial"?_jsxruntime.jsxs.call(void 0, "div",{children:[_jsxruntime.jsx.call(void 0, _chunkO3H2EYFAcjs.b,{appearance:t,children:n!=null?n:"Sign in to Crossmint"}),_jsxruntime.jsx.call(void 0, _chunkO3H2EYFAcjs.c,{appearance:t,children:"Access using one of the options below."})]}):null,r.includes("google")?_jsxruntime.jsx.call(void 0, te,{}):null,r.includes("farcaster")?_jsxruntime.jsx.call(void 0, _chunkBR77Q3PKcjs.a,{baseUrl:a,children:_jsxruntime.jsx.call(void 0, ee,{})}):null,r.includes("twitter")?_jsxruntime.jsx.call(void 0, re,{}):null,r.some(f=>f.startsWith("web3"))?_jsxruntime.jsx.call(void 0, _chunkNXEC4PEDcjs.a,{}):null,r.includes("email")?_jsxruntime.jsxs.call(void 0, "div",{children:[r.length>1?_jsxruntime.jsx.call(void 0, _chunk6O6IJTQDcjs.a,{appearance:t,text:"OR"}):null,_jsxruntime.jsx.call(void 0, Zt,{})]}):null,e==="initial"&&c!=null?_jsxruntime.jsxs.call(void 0, "div",{style:{fontSize:"0.875rem",textAlign:"center",marginTop:"0.5rem",color:(d=(p=t==null?void 0:t.colors)==null?void 0:p.textSecondary)!=null?d:_chunkEAWYV5ZOcjs.a["cm-text-secondary"]},children:[_jsxruntime.jsx.call(void 0, "style",{children:`
                        p a {
                            color: ${(m=(u=t==null?void 0:t.colors)==null?void 0:u.textLink)!=null?m:_chunkEAWYV5ZOcjs.a["cm-link"]};
                        }
                    `}),c]}):null,e==="initial"||e==="otp"?_jsxruntime.jsx.call(void 0, _chunkSCHRLC2Icjs.a,{style:{marginTop:"1rem",justifyContent:"center"},color:(v=(h=t==null?void 0:t.colors)==null?void 0:h.textSecondary)!=null?v:_chunkEAWYV5ZOcjs.a["cm-text-secondary"]}):null]})}function et({open:o}){let{appearance:e,setDialogOpen:t}=_chunkHNUI5756cjs.a.call(void 0, );return _jsxruntime.jsx.call(void 0, _chunkO3H2EYFAcjs.a,{open:o,setDialogOpen:t,appearance:e,children:_jsxruntime.jsx.call(void 0, ie,{style:{maxWidth:"448px",padding:"0px"}})})}exports.a = et; exports.b = Tt; exports.c = R; exports.d = $t; exports.e = _t; exports.f = it; exports.g = Zo; exports.h = I; exports.i = Mt; exports.j = _clientsdkreactbase.useCrossmint; exports.k = _clientsdkreactbase.useWallet; exports.l = Kt; exports.m = qt; exports.n = Jt; exports.o = Zt; exports.p = te; exports.q = ee; exports.r = re; exports.s = ie;
