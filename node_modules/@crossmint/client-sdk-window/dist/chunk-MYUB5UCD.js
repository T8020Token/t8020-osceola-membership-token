import{a as u}from"./chunk-J7WBHF26.js";import{a as c}from"./chunk-WFRUF752.js";import{a as s}from"./chunk-F6D7LZZG.js";import{a as p}from"./chunk-S7F6YZPL.js";import{a as g}from"./chunk-ZOVQM7V7.js";import{e as a}from"./chunk-2NN7LKDP.js";var m=class e extends p{constructor(n,t,r){let i=new g(n,t);super(i,r);this.window=n}static init(n,t){return a(this,null,function*(){let r=yield d(n,t);return new e(r,(t==null?void 0:t.targetOrigin)||s(n),t)})}static initSync(n,t){let r=E(n,t);return new e(r,t.targetOrigin||s(n),t)}};function E(e,o){let n=window.open(c(e),"popupWindow",v(o.width,o.height,(o==null?void 0:o.crossOrigin)||!1));if(!n)throw new Error("Failed to open popup window");return n}function d(e,o){let n=E(e,o);return o.awaitToLoad===!1?n:new Promise((t,r)=>{n.onload=()=>t(n),n.onerror=()=>r("Failed to load popup window")})}function v(e,o,n){let t=new u(n),r=w(),i=r!=null&&r>99;return`${O()||i?"popup=true,":""}height=${o},width=${e},left=${t.getLeft(e)},top=${t.getTop(o)},resizable=yes,scrollbars=yes,toolbar=yes,menubar=true,location=no,directories=no,status=yes`}function w(){let e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2]):null}function O(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}export{m as a};
