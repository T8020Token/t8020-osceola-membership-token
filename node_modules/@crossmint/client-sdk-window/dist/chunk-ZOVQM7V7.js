import{a as s}from"./chunk-SGGYT3KY.js";var n=class{constructor(e,t){this.otherWindow=e;this.targetOrigin=t;this.listeners=new Map}send(e){Array.isArray(this.targetOrigin)?this.targetOrigin.forEach(t=>{this.otherWindow.postMessage(e,t)}):this.otherWindow.postMessage(e,this.targetOrigin)}addMessageListener(e){let t=i=>{this.isTargetOrigin(i.origin)&&e({type:i.type,data:i.data})},r=s();return window.addEventListener("message",t),this.listeners.set(r,t),r}removeMessageListener(e){let t=this.listeners.get(e);t!=null&&(window.removeEventListener("message",t),this.listeners.delete(e))}isTargetOrigin(e){return Array.isArray(this.targetOrigin)?this.targetOrigin.includes(e):this.targetOrigin==="*"?!0:this.targetOrigin===e}};export{n as a};
