import{a}from"./chunk-BKPQFTLE.js";import{a as l}from"./chunk-BBCT72Q7.js";import{a as n,b as s,c as g}from"./chunk-22GIA4MK.js";var c=class{constructor(r,t=u(r)){this.service=r;this.logger=t}log(r,...t){this.logger.logInfo(r,...t)}warn(r,...t){this.logger.logWarn(r,...t)}error(r,...t){this.logger.logError(r,...t)}logPerformance(r,t,o){return g(this,null,function*(){let d=new Date().getTime(),w=yield t(),h=new Date().getTime()-d,i=s(n({durationInMs:h},o),{name:r});return this.log(`[${r} - TIME] - ${this.beautify(i)}`,{args:i}),w})}beautify(r){try{return r!=null?JSON.stringify(r,null,2):r}catch(t){return this.stringifyAvoidingCircular(r)}}stringifyAvoidingCircular(r){let t={};for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&typeof r[o]!="object"&&typeof r[o]!="function"&&(t[o]=r[o]);return JSON.stringify(t,null,2)}};function y(){return typeof window!="undefined"}function m(){return process.env.NODE_ENV==="test"?!1:window.location.origin.includes("localhost")}function u(e,{onlyDatadog:r}={}){return y()&&m()&&!r?new a:new l(e)}export{u as a,c as b,y as c,m as d};
