import{f as s,h as a,i as R,j as c,k as d,l as w}from"./chunk-WBAFVRIC.js";import{a as i,c as E}from"./chunk-22GIA4MK.js";import{CrossmintSDKError as T}from"@crossmint/common-sdk-base";var I=class{constructor(r,n={ERROR_JWT_INVALID:()=>new R,ERROR_JWT_DECRYPTION:()=>new c,ERROR_JWT_EXPIRED:({expiredAt:e})=>new a(new Date(e)),ERROR_JWT_IDENTIFIER:({identifierKey:e})=>new d(e)}){this.packageErrors=r;this.baseErrors=n}get errors(){return i(i({},this.baseErrors),this.packageErrors)}throwErrorFromResponse(e){return E(this,arguments,function*({response:r,onServerErrorMessage:n}){if(!r.ok){if(r.status>=500)throw new s(n,r.status);if(r.status===402)throw new w;try{let o=yield r.json(),t=o.code;if(t!=null&&this.errors[t]!=null)throw this.errors[t](o);if(o.message!=null)throw new s(o.message,r.status)}catch(o){if(o instanceof T)throw o;console.error("Error parsing response",o)}throw new s(yield r.text(),r.status)}})}};export{I as a};
