"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _react = require('react');var _commonsdkbase = require('@crossmint/common-sdk-base');var _lodashisequal = require('lodash.isequal'); var _lodashisequal2 = _interopRequireDefault(_lodashisequal);var _jsxruntime = require('react/jsx-runtime');var y=_react.createContext.call(void 0, null);function N({children:c,apiKey:m,appId:C,extensionId:f,overrideBaseUrl:x}){let[d,o]=_react.useState.call(void 0, 0),e=_react.useRef.call(void 0, null);e.current==null&&(e.current=new Proxy(_commonsdkbase.createCrossmint.call(void 0, {apiKey:m,overrideBaseUrl:x,appId:C,extensionId:f}),{set(t,r,n){return r==="jwt"&&t.jwt!==n&&o(i=>i+1),r==="experimental_customAuth"&&t.experimental_customAuth!==n&&o(i=>i+1),Reflect.set(t,r,n)}}));let s=_react.useCallback.call(void 0, t=>{if(e.current==null)throw new Error("CrossmintProvider is not initialized");t!==e.current.jwt&&(e.current.jwt=t,e.current.experimental_customAuth==null?e.current.experimental_customAuth={jwt:t}:e.current.experimental_customAuth.jwt=t)},[]),u=_react.useCallback.call(void 0, t=>{if(e.current==null)throw new Error("CrossmintProvider is not initialized");e.current.jwt!=(t==null?void 0:t.jwt)&&(e.current.jwt=t==null?void 0:t.jwt),_lodashisequal2.default.call(void 0, t,e.current.experimental_customAuth)||(e.current.experimental_customAuth=t)},[]),p=_react.useMemo.call(void 0, ()=>{if(!e.current)throw new Error("CrossmintProvider is not initialized");return{get crossmint(){return e.current},experimental_setCustomAuth:u,experimental_customAuth:e.current.experimental_customAuth,setJwt:s}},[u,s,d]);return _jsxruntime.jsx.call(void 0, y.Provider,{value:p,children:c})}exports.a = y; exports.b = N;
