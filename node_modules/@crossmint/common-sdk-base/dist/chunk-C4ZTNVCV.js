import{a as i}from"./chunk-3HVWJ3ZF.js";import{d as o}from"./chunk-JVMPPRNZ.js";import{a as r}from"./chunk-LTUL7WZA.js";import{a as t}from"./chunk-22GIA4MK.js";var a=class extends i{constructor(e,{internalConfig:n}){let s=o(e.apiKey,n.apiKeyExpectations);if(!s.isValid)throw new Error(s.message);super();this.crossmint=e;this.parsedAPIKey=s,this.internalConfig=n}get baseUrl(){if(this.crossmint.overrideBaseUrl)return i.normalizePath(this.crossmint.overrideBaseUrl);let e=r(this.parsedAPIKey.environment);return i.normalizePath(e)}get commonHeaders(){return t(t(t({"x-client-name":this.internalConfig.sdkMetadata.name,"x-client-version":this.internalConfig.sdkMetadata.version,"x-api-key":this.crossmint.apiKey},this.crossmint.appId?{"x-app-identifier":this.crossmint.appId}:{}),this.crossmint.extensionId?{"x-extension-id":this.crossmint.extensionId}:{}),this.resolvedJwt?{Authorization:`Bearer ${this.resolvedJwt}`}:{})}get environment(){return this.parsedAPIKey.environment}get resolvedJwt(){var e;return((e=this.crossmint.experimental_customAuth)==null?void 0:e.jwt)||this.crossmint.jwt}};export{a};
